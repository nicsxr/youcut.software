(function(){var t={817:function(t,e,i){"use strict";var n,o=i(144),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"container-fluid"},[e("div",[e("h3",[t._v("Input link")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"display-4",staticStyle:{width:"90%","text-align":"center"},attrs:{type:"text",id:"videoUrl",placeholder:"Link of Youtube video"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}})]),e("button",{staticClass:"btn btn-danger mt-3 mb-3",on:{click:function(e){return t.checkVideo()}}},[t._v("Check Video")])]),e(t.component,{tag:"component",attrs:{vidId:t.videoId,vidUrl:t.url}})],1)},a=[],s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"hello"},[e("h1",[t._v(t._s(t.title))]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.videoFound,expression:"videoFound"}],staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm"},[e("div",{},[e("youtube",{ref:"youtube",attrs:{fitParent:"","video-id":t.videoId},on:{playing:t.playing}})],1)]),e("div",{staticClass:"col-sm"},[e("div",[e("div",{staticClass:"ml-3",staticStyle:{display:"inline-block"}},[e("button",{staticClass:"btn btn-primary mr-1 mb-2",on:{click:t.deductSecond}},[t._v("-")]),e("input",{staticStyle:{height:"35px",width:"150px","text-align":"center","font-size":"25px"},attrs:{type:"text"},domProps:{value:t.currentTime},on:{input:function(e){t.currentTime=e.target.value}}}),e("button",{staticClass:"btn btn-primary ml-1 mb-2",on:{click:t.addSecond}},[t._v("+")]),e("h1",[t._v("Start / End")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.startTime,expression:"startTime"}],staticStyle:{height:"35px",width:"150px","text-align":"center","font-size":"25px"},attrs:{type:"text"},domProps:{value:t.startTime},on:{input:function(e){e.target.composing||(t.startTime=e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.endTime,expression:"endTime"}],staticStyle:{height:"35px",width:"150px","text-align":"center","font-size":"25px"},attrs:{type:"text"},domProps:{value:t.endTime},on:{input:function(e){e.target.composing||(t.endTime=e.target.value)}}}),e("br"),e("br"),e("button",{staticClass:"btn btn-lg btn-primary mr-5",on:{click:t.pressStartTime}},[t._v("Start")]),e("button",{staticClass:"btn btn-lg btn-primary ml-5",on:{click:t.pressStopTime}},[t._v("Stop")]),e("br"),e("br"),e("button",{staticClass:"btn btn-md btn-warning",on:{click:t.playVideo}},[t._v("Play result")]),e("br"),e("br"),e("b-dropdown",{attrs:{variant:"success",size:"lg",right:"",split:"",text:"Download"},on:{click:function(e){return t.download(0)}}},[e("b-dropdown-item",{on:{click:function(e){return t.download(0)}}},[t._v("Download Video")]),e("b-dropdown-item",{on:{click:function(e){return t.download(1)}}},[t._v("Download Audio")]),e("b-dropdown-item",[t._v("Download GIF")])],1),e("br")],1)])])])])])},l=[],d={name:"VideoEditor",props:{vidId:String,vidUrl:String},created(){this.$http.get(`https://noembed.com/embed?url=${this.vidUrl}`).then((t=>{t.body.error||!this.vidUrl?(this.title="Video not found",this.videoFound=!1):(this.videoFound=!0,this.title=t.body.title.toString())}))},data(){return{videoFound:!1,videoId:this.vidId,currentTime:0,isPlaying:!1,startTime:0,endTime:0,title:""}},methods:{playVideo(){this.player.playVideo(),this.player.seekTo(this.startTime),this.currentTime=this.startTime,clearInterval(n),parseFloat(this.startTime)>0&&(n=setInterval((()=>{parseFloat(this.currentTime)>=parseFloat(this.endTime)&&(console.log("current: "+parseFloat(this.currentTime)+typeof this.currentTime+"endtime"+this.endTime),this.pauseVideo(),clearInterval(n))}),50))},pauseVideo(){this.player.pauseVideo()},playing(){this.timeId=setInterval((()=>{this.player.getCurrentTime().then((t=>{this.currentTime=t.toFixed(1)})),this.isPlaying}),100)},addSecond(){this.currentTime=(parseFloat(this.currentTime)+.1).toFixed(1),this.player.seekTo(this.currentTime)},deductSecond(){this.currentTime=(parseFloat(this.currentTime)-.1).toFixed(1),this.player.seekTo(this.currentTime)},pressStartTime(){this.player.getCurrentTime().then((t=>{this.startTime=t.toFixed(1)}))},pressStopTime(){this.player.getCurrentTime().then((t=>{this.endTime=t.toFixed(1)}))},download(t){var e=parseFloat(this.endTime)-parseFloat(this.startTime);window.location.href=`https://goldfish-app-p7zvl.ondigitalocean.app/download?url=${this.vidUrl}&startTime=${this.startTime}&duration=${e.toFixed(1)}&title=${this.title}&format=${t}`},youtubStateChange(t){1==t.data?(console.log("playing"),this.isPlaying=!0):2==t.data&&(console.log("stopped"),this.isPlaying=!1,clearInterval(this.timeId))}},computed:{player(){return this.$refs.youtube.player}},mounted(){this.player.addEventListener("onStateChange",this.youtubStateChange)}},u=d,c=i(1),p=(0,c.Z)(u,s,l,!1,null,"33704c5e",null),m=p.exports,h={name:"App",components:{VideoEditor:m},data:function(){return{url:"",videoId:"",component:null}},methods:{checkVideo:function(){this.component=null,this.videoId=this.parseVideoId(this.url),setTimeout((()=>{this.component=m}),10)},parseVideoId:function(t){var e=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,i=t.match(e);return i&&11==i[7].length?i[7]:"No video"}}},v=h,f=(0,c.Z)(v,r,a,!1,null,null,null),b=f.exports,y=i(657),g=i(17),T=i(652),w=i.n(T),x=i(104);i(24);o["default"].config.productionTip=!1,o["default"].use(y.XG7),o["default"].use(g.A7),o["default"].use(w()),o["default"].use(x.ZP),new o["default"]({render:t=>t(b)}).$mount("#app")},608:function(){}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,i),r.exports}i.m=t,function(){var t=[];i.O=function(e,n,o,r){if(!n){var a=1/0;for(u=0;u<t.length;u++){n=t[u][0],o=t[u][1],r=t[u][2];for(var s=!0,l=0;l<n.length;l++)(!1&r||a>=r)&&Object.keys(i.O).every((function(t){return i.O[t](n[l])}))?n.splice(l--,1):(s=!1,r<a&&(a=r));if(s){t.splice(u--,1);var d=o();void 0!==d&&(e=d)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[n,o,r]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,r,a=n[0],s=n[1],l=n[2],d=0;if(a.some((function(e){return 0!==t[e]}))){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);if(l)var u=l(i)}for(e&&e(n);d<a.length;d++)r=a[d],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(u)},n=self["webpackChunkyoucut"]=self["webpackChunkyoucut"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(817)}));n=i.O(n)})();
//# sourceMappingURL=app.54ed60e8.js.map